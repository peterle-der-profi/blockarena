{"version":3,"sources":["../../../../../../../../.openclaw/workspace/blockarena/frontend/app/overlay/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport type { OverlayData } from '@/types';\n\nconst MOCK_DATA: OverlayData = {\n  currentArena: { id: 42, tier: 'high', pot: '2.5', blocksLeft: 150 },\n  leaderboard: [\n    { address: '0xABCD...1234', score: 185, streak: 7 },\n    { address: '0xDEAD...BEEF', score: 172, streak: 3 },\n    { address: '0x1234...5678', score: 160, streak: 1 },\n    { address: '0xFACE...CAFE', score: 145, streak: 0 },\n    { address: '0xBABE...BABE', score: 130, streak: 5 },\n  ],\n  predictions: [\n    { address: '0xABCD', direction: 'up' },\n    { address: '0xDEAD', direction: 'down' },\n  ],\n  streaks: [\n    { address: '0xABCD...1234', streak: 7 },\n    { address: '0xBABE...BABE', streak: 5 },\n    { address: '0xDEAD...BEEF', streak: 3 },\n  ],\n};\n\n/**\n * OBS-compatible streaming overlay\n * Transparent background, 1920x1080\n * Route: /overlay\n */\nexport default function OverlayPage() {\n  const [data, setData] = useState<OverlayData>(MOCK_DATA);\n\n  // WebSocket auto-update (placeholder â€” connects when backend is available)\n  useEffect(() => {\n    let ws: WebSocket | null = null;\n    try {\n      ws = new WebSocket('ws://localhost:3001/overlay');\n      ws.onmessage = (e) => {\n        try {\n          setData(JSON.parse(e.data));\n        } catch { /* ignore */ }\n      };\n      ws.onerror = () => ws?.close();\n    } catch { /* backend not available, use mock */ }\n    return () => ws?.close();\n  }, []);\n\n  return (\n    <div\n      className=\"w-[1920px] h-[1080px] relative overflow-hidden\"\n      style={{ background: 'transparent' }}\n    >\n      {/* Current Arena */}\n      {data.currentArena && (\n        <div className=\"absolute top-6 left-6 bg-black/70 backdrop-blur rounded-xl p-4 border border-gray-700 w-72\">\n          <div className=\"text-xs text-gray-400 mb-1\">LIVE ARENA</div>\n          <div className=\"text-2xl font-bold\">Arena #{data.currentArena.id}</div>\n          <div className=\"flex justify-between mt-2 text-sm\">\n            <span className=\"text-purple-400\">{data.currentArena.tier.toUpperCase()}</span>\n            <span className=\"text-yellow-400\">{data.currentArena.pot} ETH</span>\n          </div>\n          <div className=\"mt-2 text-sm text-green-400 animate-pulse\">\n            {data.currentArena.blocksLeft} blocks left\n          </div>\n        </div>\n      )}\n\n      {/* Leaderboard */}\n      <div className=\"absolute top-6 right-6 bg-black/70 backdrop-blur rounded-xl p-4 border border-gray-700 w-80\">\n        <div className=\"text-xs text-gray-400 mb-2\">LEADERBOARD</div>\n        {data.leaderboard.map((entry, i) => (\n          <div key={i} className=\"flex justify-between items-center py-1 text-sm\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-gray-500 w-5\">{i + 1}.</span>\n              <span className=\"font-mono\">{entry.address}</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"font-bold\">{entry.score}</span>\n              {entry.streak >= 3 && (\n                <span className=\"text-orange-400 text-xs\">ðŸ”¥{entry.streak}</span>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Live Predictions */}\n      <div className=\"absolute bottom-6 left-6 bg-black/70 backdrop-blur rounded-xl p-4 border border-gray-700\">\n        <div className=\"text-xs text-gray-400 mb-2\">LIVE PREDICTIONS</div>\n        <div className=\"flex gap-2\">\n          {data.predictions.map((p, i) => (\n            <span\n              key={i}\n              className={`px-3 py-1 rounded-full text-sm font-bold ${\n                p.direction === 'up' ? 'bg-green-600/50 text-green-300' : 'bg-red-600/50 text-red-300'\n              }`}\n            >\n              {p.address.slice(0, 6)} {p.direction === 'up' ? 'â†‘' : 'â†“'}\n            </span>\n          ))}\n        </div>\n      </div>\n\n      {/* Hot Streaks */}\n      <div className=\"absolute bottom-6 right-6 bg-black/70 backdrop-blur rounded-xl p-4 border border-gray-700\">\n        <div className=\"text-xs text-gray-400 mb-2\">ðŸ”¥ HOT STREAKS</div>\n        {data.streaks.map((s, i) => (\n          <div key={i} className=\"flex justify-between gap-4 text-sm py-0.5\">\n            <span className=\"font-mono\">{s.address}</span>\n            <span className=\"text-orange-400 font-bold\">{s.streak}x ðŸ”¥</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAGA,IAAM,EAAyB,CAC7B,aAAc,CAAE,GAAI,GAAI,KAAM,OAAQ,IAAK,MAAO,WAAY,GAAI,EAClE,YAAa,CACX,CAAE,QAAS,gBAAiB,MAAO,IAAK,OAAQ,CAAE,EAClD,CAAE,QAAS,gBAAiB,MAAO,IAAK,OAAQ,CAAE,EAClD,CAAE,QAAS,gBAAiB,MAAO,IAAK,OAAQ,CAAE,EAClD,CAAE,QAAS,gBAAiB,MAAO,IAAK,OAAQ,CAAE,EAClD,CAAE,QAAS,gBAAiB,MAAO,IAAK,OAAQ,CAAE,EACnD,CACD,YAAa,CACX,CAAE,QAAS,SAAU,UAAW,IAAK,EACrC,CAAE,QAAS,SAAU,UAAW,MAAO,EACxC,CACD,QAAS,CACP,CAAE,QAAS,gBAAiB,OAAQ,CAAE,EACtC,CAAE,QAAS,gBAAiB,OAAQ,CAAE,EACtC,CAAE,QAAS,gBAAiB,OAAQ,CAAE,EAE1C,AADG,EAQY,SAAS,IACtB,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,GAiB9C,MAdA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,EAAuB,KAC3B,GAAI,CAEF,CADA,EAAK,IAAI,UAAU,8BAAA,EAChB,SAAS,CAAG,AAAC,IACd,GAAI,CACF,EAAQ,KAAK,KAAK,CAAC,EAAE,IAAI,EAC3B,CAAE,KAAM,CAAe,CACzB,EACA,EAAG,OAAO,CAAG,IAAM,GAAI,OACzB,CAAE,KAAM,CAAwC,CAChD,MAAO,IAAM,GAAI,OACnB,EAAG,EAAE,EAGH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,iDACV,MAAO,CAAE,WAAY,aAAc,YAGlC,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,eAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+BAAqB,UAAQ,EAAK,YAAY,CAAC,EAAE,IAChE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2BAAmB,EAAK,YAAY,CAAC,IAAI,CAAC,WAAW,KACrE,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,EAAK,YAAY,CAAC,GAAG,CAAC,aAE3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sDACZ,EAAK,YAAY,CAAC,UAAU,CAAC,qBAMpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,gBAC3C,EAAK,WAAW,CAAC,GAAG,CAAC,CAAC,EAAO,IAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,2DACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,8BAAqB,EAAI,EAAE,OAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,EAAM,OAAO,MAE5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,EAAM,KAAK,GACvC,EAAM,MAAM,EAAI,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oCAA0B,KAAG,EAAM,MAAM,SARrD,OAgBd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,qBAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAK,WAAW,CAAC,GAAG,CAAC,CAAC,EAAG,IACxB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAEC,UAAW,CAAC,yCAAyC,EACnC,OAAhB,EAAE,SAAS,CAAY,iCAAmC,6BAAA,CAC1D,WAED,EAAE,OAAO,CAAC,KAAK,CAAC,EAAG,GAAG,IAAkB,OAAhB,EAAE,SAAS,CAAY,IAAM,MALjD,SAYb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sGACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCAA6B,mBAC3C,EAAK,OAAO,CAAC,GAAG,CAAC,CAAC,EAAG,IACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,sDACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,EAAE,OAAO,GACtC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sCAA6B,EAAE,MAAM,CAAC,YAF9C,SAQpB"}