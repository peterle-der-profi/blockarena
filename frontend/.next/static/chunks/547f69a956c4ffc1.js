(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60504,e=>{"use strict";let t;var r=e.i(58406),n=e.i(88752),a=e.i(54839),s=e.i(35399),i=e.i(2735),o=e.i(13135),l=e.i(24219),c=e.i(20320),u=e.i(27642);function d(e,{abi:t,address:r,args:n,docsPath:a,functionName:s,sender:d}){let h=e instanceof l.RawContractError?e:e instanceof o.BaseError?e.walk(e=>"data"in e)||e.walk():{},{code:f,data:p,details:m,message:y,shortMessage:g}=h,b=e instanceof i.AbiDecodingZeroDataError?new l.ContractFunctionZeroDataError({functionName:s}):[3,u.InternalRpcError.code].includes(f)&&(p||m||y||g)||f===u.InvalidInputRpcError.code&&"execution reverted"===m&&p?new l.ContractFunctionRevertedError({abi:t,data:"object"==typeof p?p.data:p,functionName:s,message:h instanceof c.RpcRequestError?m:g??y}):e;return new l.ContractFunctionExecutionError(b,{abi:t,args:n,contractAddress:r,docsPath:a,functionName:s,sender:d})}function h(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let a=e[r];return"function"==typeof a?a:r=>t(e,r)}var f=e.i(3776);async function p(e,t){let{abi:r,address:n,args:i,functionName:o,...l}=t,c=(0,s.encodeFunctionData)({abi:r,args:i,functionName:o});try{let{data:t}=await h(e,f.call,"call")({...l,data:c,to:n});return(0,a.decodeFunctionResult)({abi:r,args:i,functionName:o,data:t||"0x"})}catch(e){throw d(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}function m(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let a=e[r];return"function"==typeof a?a:r=>t(e,r)}var y=e.i(1768);function g(e,t){return(0,y.replaceEqualDeep)(e,t)}function b(e){return JSON.stringify(e,(e,t)=>!function(e){if(!x(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!x(r)&&!!r.hasOwnProperty("isPrototypeOf")}(t)?"bigint"==typeof t?t.toString():t:Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}))}function x(e){return"[object Object]"===Object.prototype.toString.call(e)}var v=e.i(94921),w=e.i(49290),P=e.i(62078),I=e.i(24743),R=e.i(39657),E=e.i(39098),T=class extends I.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,R.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#n=void 0;#a=void 0;#s=void 0;#i;#o;#r;#t;#l;#c;#u;#d;#h;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#n.addObserver(this),F(this.#n,this.options)?this.#m():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return N(this.#n,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return N(this.#n,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#b(),this.#n.removeObserver(this)}setOptions(e){let t=this.options,r=this.#n;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,y.resolveEnabled)(this.options.enabled,this.#n))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#n.setOptions(this.options),t._defaulted&&!(0,y.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#n,observer:this});let n=this.hasListeners();n&&B(this.#n,r,this.options,t)&&this.#m(),this.updateResult(),n&&(this.#n!==r||(0,y.resolveEnabled)(this.options.enabled,this.#n)!==(0,y.resolveEnabled)(t.enabled,this.#n)||(0,y.resolveStaleTime)(this.options.staleTime,this.#n)!==(0,y.resolveStaleTime)(t.staleTime,this.#n))&&this.#v();let a=this.#w();n&&(this.#n!==r||(0,y.resolveEnabled)(this.options.enabled,this.#n)!==(0,y.resolveEnabled)(t.enabled,this.#n)||a!==this.#f)&&this.#P(a)}getOptimisticResult(e){var t,r;let n=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(n,e);return t=this,r=a,(0,y.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#s=a,this.#o=this.options,this.#i=this.#n.state),a}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#n}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#m(e){this.#x();let t=this.#n.fetch(this.options,e);return e?.throwOnError||(t=t.catch(y.noop)),t}#v(){this.#g();let e=(0,y.resolveStaleTime)(this.options.staleTime,this.#n);if(y.isServer||this.#s.isStale||!(0,y.isValidTimeout)(e))return;let t=(0,y.timeUntilStale)(this.#s.dataUpdatedAt,e);this.#d=E.timeoutManager.setTimeout(()=>{this.#s.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#n):this.options.refetchInterval)??!1}#P(e){this.#b(),this.#f=e,!y.isServer&&!1!==(0,y.resolveEnabled)(this.options.enabled,this.#n)&&(0,y.isValidTimeout)(this.#f)&&0!==this.#f&&(this.#h=E.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||v.focusManager.isFocused())&&this.#m()},this.#f))}#y(){this.#v(),this.#P(this.#w())}#g(){this.#d&&(E.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#b(){this.#h&&(E.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,n=this.#n,a=this.options,s=this.#s,i=this.#i,o=this.#o,l=e!==n?e.state:this.#a,{state:c}=e,u={...c},d=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&F(e,t),i=r&&B(e,n,t,a);(s||i)&&(u={...u,...(0,P.fetchState)(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=u;r=u.data;let m=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===p){let e;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=s.data,m=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(p="success",r=(0,y.replaceData)(s?.data,e,t),d=!0)}if(t.select&&void 0!==r&&!m)if(s&&r===i?.data&&t.select===this.#l)r=this.#c;else try{this.#l=t.select,r=t.select(r),r=(0,y.replaceData)(s?.data,r,t),this.#c=r,this.#t=null}catch(e){this.#t=e}this.#t&&(h=this.#t,r=this.#c,f=Date.now(),p="error");let g="fetching"===u.fetchStatus,b="pending"===p,x="error"===p,v=b&&g,w=void 0!==r,I={status:p,fetchStatus:u.fetchStatus,isPending:b,isSuccess:"success"===p,isError:x,isInitialLoading:v,isLoading:v,data:r,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:x&&!w,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:x&&w,isStale:C(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,y.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=void 0!==I.data,r="error"===I.status&&!t,a=e=>{r?e.reject(I.error):t&&e.resolve(I.data)},s=()=>{a(this.#r=I.promise=(0,R.pendingThenable)())},i=this.#r;switch(i.status){case"pending":e.queryHash===n.queryHash&&a(i);break;case"fulfilled":(r||I.data!==i.value)&&s();break;case"rejected":r&&I.error===i.reason||s()}}return I}updateResult(){let e=this.#s,t=this.createResult(this.#n,this.options);if(this.#i=this.#n.state,this.#o=this.options,void 0!==this.#i.data&&(this.#u=this.#n),(0,y.shallowEqualObjects)(t,e))return;this.#s=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let n=new Set(r??this.#p);return this.options.throwOnError&&n.add("error"),Object.keys(this.#s).some(t=>this.#s[t]!==e[t]&&n.has(t))};this.#I({listeners:r()})}#x(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#n)return;let t=this.#n;this.#n=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#I(e){w.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#s)}),this.#e.getQueryCache().notify({query:this.#n,type:"observerResultsUpdated"})})}};function F(e,t){return!1!==(0,y.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&N(e,t,t.refetchOnMount)}function N(e,t,r){if(!1!==(0,y.resolveEnabled)(t.enabled,e)&&"static"!==(0,y.resolveStaleTime)(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&C(e,t)}return!1}function B(e,t,r,n){return(e!==t||!1===(0,y.resolveEnabled)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&C(e,r)}function C(e,t){return!1!==(0,y.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,y.resolveStaleTime)(t.staleTime,e))}e.i(52120);var j=e.i(23060),k=e.i(33998),S=j.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),G=j.createContext(!1);G.Provider;var A=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()}),M=e.i(55283);function O(e){return e.state.chainId}var Q=e.i(95028);function q(e={}){var t;let r,n=(0,Q.useConfig)(e),a=function(e={}){let t=(0,Q.useConfig)(e);return(0,j.useSyncExternalStore)(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(e=>e.chainId,r)})(t,{onChange:e}),()=>O(t),()=>O(t))}({config:n});return(r=function(e,t,r){let n,a=j.useContext(G),s=j.useContext(S),i=(0,k.useQueryClient)(r),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);let l=i.getQueryCache().get(o.queryHash);if(o._optimisticResults=a?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}n=l?.state.error&&"function"==typeof o.throwOnError?(0,y.shouldThrowError)(o.throwOnError,[l.state.error,l]):o.throwOnError,(o.suspense||o.experimental_prefetchInRender||n)&&!s.isReset()&&(o.retryOnMount=!1),j.useEffect(()=>{s.clearReset()},[s]);let c=!i.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),h=!a&&!1!==e.subscribed;if(j.useSyncExternalStore(j.useCallback(e=>{let t=h?u.subscribe(w.notifyManager.batchCalls(e)):y.noop;return u.updateResult(),t},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),o?.suspense&&d.isPending)throw A(o,u,s);if((({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&void 0===e.data||(0,y.shouldThrowError)(r,[e.error,n])))({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!y.isServer&&d.isLoading&&d.isFetching&&!a){let e=c?A(o,u,s):l?.promise;e?.catch(y.noop).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}({...t=function(e,t={}){return{...t.query,enabled:!!((t.address||"code"in t&&t.code)&&t.abi&&t.functionName&&(t.query?.enabled??!0)),queryFn:async r=>{if(!t.abi)throw Error("abi is required");let[,{scopeKey:n,...a}]=r.queryKey;if(!a.functionName)throw Error("functionName is required");return await function(e,t){let{chainId:r,...n}=t;return m(e.getClient({chainId:r}),p,"readContract")(n)}(e,{...a,abi:t.abi,address:a.address,code:"code"in a&&a.code?a.code:void 0,functionName:a.functionName})},queryKey:function(e={}){return["readContract",function(e){let{_defaulted:t,behavior:r,gcTime:n,initialData:a,initialDataUpdatedAt:s,maxPages:i,meta:o,networkMode:l,queryFn:c,queryHash:u,queryKey:d,queryKeyHashFn:h,retry:f,retryDelay:p,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:g,initialPageParam:b,_optimisticResults:x,enabled:v,notifyOnChangeProps:w,placeholderData:P,refetchInterval:I,refetchIntervalInBackground:R,refetchOnMount:E,refetchOnReconnect:T,refetchOnWindowFocus:F,retryOnMount:N,select:B,staleTime:C,suspense:j,throwOnError:k,abi:S,config:G,connector:A,query:M,watch:O,...Q}=e;return A?{connectorUid:A?.uid,...Q}:Q}(e)]}(t),structuralSharing:g}}(n,{...e,chainId:e.chainId??a}),queryKeyHashFn:b},T,void 0)).queryKey=t.queryKey,r}var H=e.i(76723),U=o;class z extends U.BaseError{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class $ extends U.BaseError{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}var L=e.i(61657),D=e.i(82178),_=e.i(59511),K=e.i(8739),V=e.i(10092),W=e.i(79207);async function J({hash:t,signature:r}){let n=(0,_.isHex)(t)?t:(0,W.toHex)(t),{secp256k1:a}=await e.A(46839),s=(()=>{if("object"==typeof r&&"r"in r&&"s"in r){let{r:e,s:t,v:n,yParity:s}=r,i=X(Number(s??n));return new a.Signature((0,V.hexToBigInt)(e),(0,V.hexToBigInt)(t)).addRecoveryBit(i)}let e=(0,_.isHex)(r)?r:(0,W.toHex)(r);if(65!==(0,K.size)(e))throw Error("invalid signature length");let t=X((0,V.hexToNumber)(`0x${e.slice(130)}`));return a.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${s}`}function X(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function Z({hash:e,signature:t}){var r;let n;return r=await J({hash:e,signature:t}),n=(0,D.keccak256)(`0x${r.substring(4)}`).substring(26),(0,L.checksumAddress)(`0x${n}`)}var Y=e.i(99632),ee=e.i(93958),et=e.i(95836);function er(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new o.BaseError("Length is too large.")}async function en(e){let{authorization:t,signature:r}=e;return Z({hash:function(e){let{chainId:t,nonce:r,to:n}=e,a=e.contractAddress??e.address,s=(0,D.keccak256)((0,Y.concatHex)(["0x05",function(e,t="hex"){let r=function e(t){var r,n;let a,s,i,o;return Array.isArray(t)?(s=er(a=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:a<=55?1+a:1+s+a,encode(e){for(let{encode:t}of(a<=55?e.pushByte(192+a):(e.pushByte(247+s),1===s?e.pushUint8(a):2===s?e.pushUint16(a):3===s?e.pushUint24(a):e.pushUint32(a)),r))t(e)}}):(o=er((i="string"==typeof(n=t)?(0,ee.hexToBytes)(n):n).length),{length:1===i.length&&i[0]<128?1:i.length<=55?1+i.length:1+o+i.length,encode(e){1===i.length&&i[0]<128||(i.length<=55?e.pushByte(128+i.length):(e.pushByte(183+o),1===o?e.pushUint8(i.length):2===o?e.pushUint16(i.length):3===o?e.pushUint24(i.length):e.pushUint32(i.length))),e.pushBytes(i)}})}(e),n=(0,et.createCursor)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,W.bytesToHex)(n.bytes):n.bytes}([t?(0,W.numberToHex)(t):"0x",a,r?(0,W.numberToHex)(r):"0x"])]));return"bytes"===n?(0,ee.hexToBytes)(s):s}(t),signature:r??t})}var ea=e.i(93055),es=e.i(28456),ei=e.i(65485),eo=e.i(8200);function el(e,{docsPath:t,...r}){let n,a=(n=(0,eo.getNodeError)(e,r))instanceof es.UnknownNodeError?e:n;return new ei.TransactionExecutionError(a,{docsPath:t,...r})}var ec=e.i(18386),eu=e.i(84174),ed=e.i(52373),eh=e.i(53188);async function ef(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,V.hexToNumber)(t)}var ep=e.i(23571),em=o;class ey extends em.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class eg extends em.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class eb extends em.BaseError{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,ep.formatGwei)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}var ex=o;class ev extends ex.BaseError{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}e.i(36786);let ew={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function eP(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,V.hexToNumber)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,V.hexToNumber)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?ew[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return+(r.v%2n===0n)}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}async function eI(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:a}={}){let s=a??!1,i=void 0!==r?(0,W.numberToHex)(r):void 0,o=null;if(!(o=t?await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[i||n,s]},{dedupe:!!i})))throw new ev({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||function(e,t){let r=(e.transactions??[]).map(e=>"string"==typeof e?e:eP(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}})(o,"getBlock")}async function eR(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function eE(e,t){let{block:r,chain:n=e.chain,request:a}=t||{};try{let t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await h(e,eI,"getBlock")({}),s=await t({block:n,client:e,request:a});if(null===s)throw Error();return s}if(void 0!==t)return t;let s=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,V.hexToBigInt)(s)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):h(e,eI,"getBlock")({}),h(e,eR,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new eg;let a=n-t.baseFeePerGas;if(a<0n)return 0n;return a}}async function eT(e,t){let{block:r,chain:n=e.chain,request:a,type:s="eip1559"}=t||{},i=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:a}):n?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new ey;let o=i.toString().split(".")[1]?.length??0,l=10**o,c=e=>e*BigInt(Math.ceil(i*l))/BigInt(l),u=r||await h(e,eI,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:c,request:a,type:s});if(null!==t)return t}if("eip1559"===s){if("bigint"!=typeof u.baseFeePerGas)throw new eg;let t="bigint"==typeof a?.maxPriorityFeePerGas?a.maxPriorityFeePerGas:await eE(e,{block:u,chain:n,request:a}),r=c(u.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:a?.gasPrice??c(await h(e,eR,"getGasPrice")({}))}}var eF=e.i(32200),eN=o;class eB extends eN.BaseError{constructor(e,{account:t,docsPath:r,chain:n,data:a,gas:s,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:l,nonce:c,to:u,value:d}){const h=(0,ei.prettyPrint)({from:t?.address,to:u,value:void 0!==d&&`${(0,eF.formatEther)(d)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:s,gasPrice:void 0!==i&&`${(0,ep.formatGwei)(i)} gwei`,maxFeePerGas:void 0!==o&&`${(0,ep.formatGwei)(o)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,ep.formatGwei)(l)} gwei`,nonce:c});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var eC=e.i(32440);async function ej(e,t){let{account:r=e.account,prepare:n=!0}=t,a=r?(0,H.parseAccount)(r):void 0,s=Array.isArray(n)?n:a?.type!=="local"?["blobVersionedHashes"]:void 0;try{let r=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await en({authorization:t.authorizationList[0]}).catch(()=>{throw new o.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:i,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:d,blockTag:h,data:f,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:x,value:v,stateOverride:w,...P}=n?await eL(e,{...t,parameters:s,to:r}):t;if(p&&t.gas!==p)return p;let I=("bigint"==typeof d?(0,W.numberToHex)(d):void 0)||h,R=(0,eC.serializeStateOverride)(w);(0,eh.assertRequest)(t);let E=e.chain?.formatters?.transactionRequest?.format,T=(E||eu.formatTransactionRequest)({...(0,ec.extract)(P,{format:E}),account:a,accessList:i,authorizationList:l,blobs:c,blobVersionedHashes:u,data:f,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:g,maxPriorityFeePerGas:b,nonce:x,to:r,value:v},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:R?[T,I??e.experimental_blockTag??"latest",R]:I?[T,I]:[T]}))}catch(r){throw function(e,{docsPath:t,...r}){let n;return new eB((n=(0,eo.getNodeError)(e,r))instanceof es.UnknownNodeError?e:n,{docsPath:t,...r})}(r,{...t,account:a,chain:e.chain})}}async function ek(e,{address:t,blockTag:r="latest",blockNumber:n}){let a=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof n?(0,W.numberToHex)(n):r]},{dedupe:!!n});return(0,V.hexToNumber)(a)}function eS(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,ee.hexToBytes)(e)):e.blobs,a=[];for(let e of n)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?a:a.map(e=>(0,W.bytesToHex)(e))}function eG(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,ee.hexToBytes)(e)):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,ee.hexToBytes)(e)):e.commitments,s=[];for(let e=0;e<n.length;e++){let r=n[e],i=a[e];s.push(Uint8Array.from(t.computeBlobKzgProof(r,i)))}return"bytes"===r?s:s.map(e=>(0,W.bytesToHex)(e))}var eA=e.i(89445);eA.SHA256;let eM=eA.sha256;eA.SHA224,eA.sha224;var eO=o;class eQ extends eO.BaseError{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class eq extends eO.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}async function eH(e,t){let{account:r=e.account,accessList:n,authorizationList:a,chain:s=e.chain,blobVersionedHashes:i,blobs:o,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:y,to:g,type:b,value:x,...v}=t,w=await (async()=>{if(!r||!y||void 0!==m)return m;let t=(0,H.parseAccount)(r),n=s?s.id:await h(e,ef,"getChainId")({});return await y.consume({address:t.address,chainId:n,client:e})})();(0,eh.assertRequest)(t);let P=s?.formatters?.transactionRequest?.format,I=(P||eu.formatTransactionRequest)({...(0,ec.extract)(v,{format:P}),account:r?(0,H.parseAccount)(r):void 0,accessList:n,authorizationList:a,blobs:o,blobVersionedHashes:i,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:w,to:g,type:b,value:x},"fillTransaction");try{let r=await e.request({method:"eth_fillTransaction",params:[I]}),n=(s?.formatters?.transaction?.format||eP)(r.tx);delete n.blockHash,delete n.blockNumber,delete n.r,delete n.s,delete n.transactionIndex,delete n.v,delete n.yParity,n.data=n.input,n.gas&&(n.gas=t.gas??n.gas),n.gasPrice&&(n.gasPrice=t.gasPrice??n.gasPrice),n.maxFeePerBlobGas&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas??n.maxFeePerBlobGas),n.maxFeePerGas&&(n.maxFeePerGas=t.maxFeePerGas??n.maxFeePerGas),n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas??n.maxPriorityFeePerGas),n.nonce&&(n.nonce=t.nonce??n.nonce);let a=await (async()=>{if("function"==typeof s?.fees?.baseFeeMultiplier){let r=await h(e,eI,"getBlock")({});return s.fees.baseFeeMultiplier({block:r,client:e,request:t})}return s?.fees?.baseFeeMultiplier??1.2})();if(a<1)throw new ey;let i=a.toString().split(".")[1]?.length??0,o=10**i,l=e=>e*BigInt(Math.ceil(a*o))/BigInt(o);return n.maxFeePerGas&&!t.maxFeePerGas&&(n.maxFeePerGas=l(n.maxFeePerGas)),n.gasPrice&&!t.gasPrice&&(n.gasPrice=l(n.gasPrice)),{raw:r.raw,transaction:{from:I.from,...n}}}catch(r){throw el(r,{...t,chain:e.chain})}}eO.BaseError,eO.BaseError;let eU=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ez=new Map,e$=new ed.LruMap(128);async function eL(e,t){let r,n,a=t;a.account??=e.account,a.parameters??=eU;let{account:s,chain:i=e.chain,nonceManager:o,parameters:l}=a,c="function"==typeof i?.prepareTransactionRequest?{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(i?.prepareTransactionRequest)?{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}:void 0;async function u(){return r?r:void 0!==a.chainId?a.chainId:i?i.id:r=await h(e,ef,"getChainId")({})}let d=s?(0,H.parseAccount)(s):s,f=a.nonce;if(l.includes("nonce")&&void 0===f&&d&&o){let t=await u();f=await o.consume({address:d.address,chainId:t,client:e})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(a=await c.fn({...a,chain:i},{phase:"beforeFillTransaction"}),f??=a.nonce);let p=(!(l.includes("blobVersionedHashes")||l.includes("sidecars"))||!a.kzg||!a.blobs)&&!1!==e$.get(e.uid)&&["fees","gas"].some(e=>l.includes(e))&&(l.includes("chainId")&&"number"!=typeof a.chainId||l.includes("nonce")&&"number"!=typeof f||l.includes("fees")&&"bigint"!=typeof a.gasPrice&&("bigint"!=typeof a.maxFeePerGas||"bigint"!=typeof a.maxPriorityFeePerGas)||l.includes("gas")&&"bigint"!=typeof a.gas)?await h(e,eH,"fillTransaction")({...a,nonce:f}).then(t=>{let{chainId:r,from:n,gas:s,gasPrice:i,nonce:o,maxFeePerBlobGas:l,maxFeePerGas:c,maxPriorityFeePerGas:u,type:d,...h}=t.transaction;return e$.set(e.uid,!0),{...a,...n?{from:n}:{},...d?{type:d}:{},...void 0!==r?{chainId:r}:{},...void 0!==s?{gas:s}:{},...void 0!==i?{gasPrice:i}:{},...void 0!==o?{nonce:o}:{},...void 0!==l?{maxFeePerBlobGas:l}:{},...void 0!==c?{maxFeePerGas:c}:{},...void 0!==u?{maxPriorityFeePerGas:u}:{},..."nonceKey"in h&&void 0!==h.nonceKey?{nonceKey:h.nonceKey}:{}}}).catch(t=>("TransactionExecutionError"!==t.name||t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&e$.set(e.uid,!1),a)):a;f??=p.nonce;let{blobs:m,gas:y,kzg:g,type:b}=a={...p,...d?{from:d?.address}:{},...f?{nonce:f}:{}};async function x(){return n||(n=await h(e,eI,"getBlock")({blockTag:"latest"}))}if(c?.fn&&c.runAt?.includes("beforeFillParameters")&&(a=await c.fn({...a,chain:i},{phase:"beforeFillParameters"})),l.includes("nonce")&&void 0===f&&d&&!o&&(a.nonce=await h(e,ek,"getTransactionCount")({address:d.address,blockTag:"pending"})),(l.includes("blobVersionedHashes")||l.includes("sidecars"))&&m&&g){let e=eS({blobs:m,kzg:g});if(l.includes("blobVersionedHashes")){let t=function(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),a=[];for(let e of t)a.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),a=eM((0,_.isHex)(t,{strict:!1})?(0,ee.toBytes)(t):t);return a.set([r],0),"bytes"===n?a:(0,W.bytesToHex)(a)}({commitment:e,to:n,version:r}));return a}({commitments:e,to:"hex"});a.blobVersionedHashes=t}if(l.includes("sidecars")){let t=eG({blobs:m,commitments:e,kzg:g}),r=function(e){let{data:t,kzg:r,to:n}=e,a=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,ee.hexToBytes)(e.data):e.data,n=(0,K.size)(r);if(!n)throw new eq;if(n>761855)throw new eQ({maxSize:761855,size:n});let a=[],s=!0,i=0;for(;s;){let e=(0,et.createCursor)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(i,i+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),s=!1;break}t++,i+=31}a.push(e)}return"bytes"===t?a.map(e=>e.bytes):a.map(e=>(0,W.bytesToHex)(e.bytes))}({data:t,to:n}),s=e.commitments??eS({blobs:a,kzg:r,to:n}),i=e.proofs??eG({blobs:a,commitments:s,kzg:r,to:n}),o=[];for(let e=0;e<a.length;e++)o.push({blob:a[e],commitment:s[e],proof:i[e]});return o}({blobs:m,commitments:e,proofs:t,to:"hex"});a.sidecars=r}}if(l.includes("chainId")&&(a.chainId=await u()),(l.includes("fees")||l.includes("type"))&&void 0===b)try{a.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new ei.InvalidSerializableTransactionError({transaction:e})}(a)}catch{let t=ez.get(e.uid);if(void 0===t){let r=await x();t="bigint"==typeof r?.baseFeePerGas,ez.set(e.uid,t)}a.type=t?"eip1559":"legacy"}if(l.includes("fees"))if("legacy"!==a.type&&"eip2930"!==a.type){if(void 0===a.maxFeePerGas||void 0===a.maxPriorityFeePerGas){let t=await x(),{maxFeePerGas:r,maxPriorityFeePerGas:n}=await eT(e,{block:t,chain:i,request:a});if(void 0===a.maxPriorityFeePerGas&&a.maxFeePerGas&&a.maxFeePerGas<n)throw new eb({maxPriorityFeePerGas:n});a.maxPriorityFeePerGas=n,a.maxFeePerGas=r}}else{if(void 0!==a.maxFeePerGas||void 0!==a.maxPriorityFeePerGas)throw new eg;if(void 0===a.gasPrice){let t=await x(),{gasPrice:r}=await eT(e,{block:t,chain:i,request:a,type:"legacy"});a.gasPrice=r}}return l.includes("gas")&&void 0===y&&(a.gas=await h(e,ej,"estimateGas")({...a,account:d,prepare:d?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(a=await c.fn({...a,chain:i},{phase:"afterFillParameters"})),(0,eh.assertRequest)(a),delete a.parameters,a}async function eD(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}let e_=new ed.LruMap(128);async function eK(e,t){let{account:r=e.account,assertChainId:n=!0,chain:a=e.chain,accessList:s,authorizationList:i,blobs:l,data:c,dataSuffix:u="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,type:b,value:x,...v}=t;if(void 0===r)throw new z({docsPath:"/docs/actions/wallet/sendTransaction"});let w=r?(0,H.parseAccount)(r):null;try{(0,eh.assertRequest)(t);let r=await (async()=>t.to?t.to:null!==t.to&&i&&i.length>0?await en({authorization:i[0]}).catch(()=>{throw new o.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(w?.type==="json-rpc"||null===w){let t;null!==a&&(t=await h(e,ef,"getChainId")({}),n&&function({chain:e,currentChainId:t}){if(!e)throw new ea.ChainNotFoundError;if(t!==e.id)throw new ea.ChainMismatchError({chain:e,currentChainId:t})}({currentChainId:t,chain:a}));let o=e.chain?.formatters?.transactionRequest?.format,P=(o||eu.formatTransactionRequest)({...(0,ec.extract)(v,{format:o}),accessList:s,account:w,authorizationList:i,blobs:l,chainId:t,data:c?(0,Y.concat)([c,u??"0x"]):c,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,to:r,type:b,value:x},"sendTransaction"),I=e_.get(e.uid);try{return await e.request({method:I?"wallet_sendTransaction":"eth_sendTransaction",params:[P]},{retryCount:0})}catch(t){if(!1===I)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(t=>(e_.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw e_.set(e.uid,!1),t;throw r});throw t}}if(w?.type==="local"){let t=await h(e,eL,"prepareTransactionRequest")({account:w,accessList:s,authorizationList:i,blobs:l,chain:a,data:c?(0,Y.concat)([c,u??"0x"]):c,gas:d,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,nonceManager:w.nonceManager,parameters:[...eU,"sidecars"],type:b,value:x,...v,to:r}),n=a?.serializers?.transaction,o=await w.signTransaction(t,{serializer:n});return await h(e,eD,"sendRawTransaction")({serializedTransaction:o})}if(w?.type==="smart")throw new $({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new $({docsPath:"/docs/actions/wallet/sendTransaction",type:w?.type})}catch(e){if(e instanceof $)throw e;throw el(e,{...t,account:w,chain:t.chain||void 0})}}async function eV(e,t){return eV.internal(e,eK,"sendTransaction",t)}(eV||(eV={})).internal=async function(e,t,r,n){let{abi:a,account:i=e.account,address:o,args:l,functionName:c,...u}=n;if(void 0===i)throw new z({docsPath:"/docs/contract/writeContract"});let f=i?(0,H.parseAccount)(i):null,p=(0,s.encodeFunctionData)({abi:a,args:l,functionName:c});try{return await h(e,t,r)({data:p,to:o,account:f,...u})}catch(e){throw d(e,{abi:a,address:o,args:l,docsPath:"/docs/contract/writeContract",functionName:c,sender:f?.address})}};var eW=e.i(30695),eJ=e.i(75701),eX=e.i(70653);async function eZ(e,t={}){let r,{assertChainId:n=!0}=t;if(t.connector){let{connector:n}=t;if("reconnecting"===e.state.status&&!n.getAccounts&&!n.getChainId)throw new eX.ConnectorUnavailableReconnectingError({connector:n});let[a,s]=await Promise.all([n.getAccounts().catch(e=>{if(null===t.account)return[];throw e}),n.getChainId()]);r={accounts:a,chainId:s,connector:n}}else r=e.state.connections.get(e.state.current);if(!r)throw new eX.ConnectorNotConnectedError;let a=t.chainId??r.chainId,s=await r.connector.getChainId();if(n&&s!==a)throw new eX.ConnectorChainMismatchError({connectionChainId:a,connectorChainId:s});let i=r.connector;if(i.getClient)return i.getClient({chainId:a});let o=(0,H.parseAccount)(t.account??r.accounts[0]);if(o&&(o.address=(0,L.getAddress)(o.address)),t.account&&!r.accounts.some(e=>e.toLowerCase()===o.address.toLowerCase()))throw new eX.ConnectorAccountNotFoundError({address:o.address,connector:i});let l=e.chains.find(e=>e.id===a),c=await r.connector.getProvider({chainId:a});return(0,eW.createClient)({account:o,chain:l,name:"Connector Client",transport:e=>(function(e,t={}){let{key:r="custom",methods:n,name:a="Custom Provider",retryDelay:s}=t;return({retryCount:i})=>(0,eJ.createTransport)({key:r,methods:n,name:a,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:s,type:"custom"})})(c)({...e,retryCount:0})})}async function eY(e,t){let r,{account:n,chainId:a,connector:s,...i}=t;r="object"==typeof n&&n?.type==="local"?e.getClient({chainId:a}):await eZ(e,{account:n??void 0,assertChainId:!1,chainId:a,connector:s});let o=a&&r.chain?.id!==a?{id:a}:r.chain,l=m(r,eV,"writeContract");return await l({...i,...n?{account:n}:{},assertChainId:!!a,chain:o})}function e0(e={}){let t=function(e,t={}){return{...t.mutation,mutationFn:t=>eY(e,t),mutationKey:["writeContract"]}}((0,Q.useConfig)(e),e),r=(0,M.useMutation)(t);return{...r,writeContract:r.mutate,writeContractAsync:r.mutateAsync}}var e1=e.i(49975),e2=e.i(97822),e5=e.i(43790),e3=e.i(98547),e4=e.i(61875);let e6="0x0000000000000000000000000000000000000000",e8=[{type:"function",name:"createArena",inputs:[{name:"entryFee",type:"uint128"},{name:"durationInBlocks",type:"uint40"}],outputs:[{name:"arenaId",type:"uint256"}],stateMutability:"nonpayable"},{type:"function",name:"joinArena",inputs:[{name:"arenaId",type:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"commitPrediction",inputs:[{name:"arenaId",type:"uint256"},{name:"commitHash",type:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"revealPrediction",inputs:[{name:"arenaId",type:"uint256"},{name:"bitPackedPredictions",type:"uint256"},{name:"salt",type:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"finalizeArena",inputs:[{name:"arenaId",type:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"getArena",inputs:[{name:"arenaId",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"startBlock",type:"uint40"},{name:"endBlock",type:"uint40"},{name:"pot",type:"uint128"},{name:"playerCount",type:"uint16"},{name:"entryFee",type:"uint128"},{name:"finalized",type:"bool"}]}],stateMutability:"view"},{type:"function",name:"getPlayers",inputs:[{name:"arenaId",type:"uint256"}],outputs:[{name:"",type:"address[]"}],stateMutability:"view"},{type:"function",name:"nextArenaId",inputs:[],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"computeCommitHash",inputs:[{name:"arenaId",type:"uint256"},{name:"player",type:"address"},{name:"salt",type:"bytes32"},{name:"bitPackedPredictions",type:"uint256"}],outputs:[{name:"",type:"bytes32"}],stateMutability:"pure"},{type:"function",name:"scores",inputs:[{name:"",type:"uint256"},{name:"",type:"address"}],outputs:[{name:"",type:"uint256"}],stateMutability:"view"},{type:"function",name:"joined",inputs:[{name:"",type:"uint256"},{name:"",type:"address"}],outputs:[{name:"",type:"bool"}],stateMutability:"view"},{type:"event",name:"ArenaCreated",inputs:[{name:"arenaId",type:"uint256",indexed:!0},{name:"entryFee",type:"uint128",indexed:!1},{name:"startBlock",type:"uint40",indexed:!1},{name:"endBlock",type:"uint40",indexed:!1}]},{type:"event",name:"PlayerJoined",inputs:[{name:"arenaId",type:"uint256",indexed:!0},{name:"player",type:"address",indexed:!0}]},{type:"event",name:"ArenaFinalized",inputs:[{name:"arenaId",type:"uint256",indexed:!0}]},{type:"event",name:"PotDistributed",inputs:[{name:"arenaId",type:"uint256",indexed:!0},{name:"winner",type:"address",indexed:!0},{name:"amount",type:"uint256",indexed:!1}]}];function e9(e){return q({address:e6,abi:e8,functionName:"getArena",args:[e]})}var e7=e.i(46148);function te({blocksRemaining:e,totalBlocks:t,label:n}){let a=t>0?(t-e)/t*100:0,s=e<.1*t;return(0,r.jsxs)("div",{className:"w-full",children:[n&&(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:n}),(0,r.jsx)("div",{className:"relative h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:`h-full rounded-full transition-all duration-300 ${s?"bg-red-500 animate-pulse":"bg-gradient-to-r from-green-500 to-blue-500"}`,style:{width:`${Math.min(a,100)}%`}})}),(0,r.jsxs)("div",{className:"flex justify-between text-xs mt-1",children:[(0,r.jsxs)("span",{className:s?"text-red-400 font-bold animate-pulse":"text-gray-400",children:[e," blocks left"]}),(0,r.jsxs)("span",{className:"text-gray-500",children:[a.toFixed(0),"%"]})]})]})}function tt(e){let t=parseFloat((0,eF.formatEther)(e));return t>=1?"vip":t>=.1?"high":t>=.01?"mid":"low"}function tr({arenaId:e,currentBlock:t}){let{data:n}=e9(e),a=function(){let{writeContract:e}=e0();return(t,r)=>{e({address:e6,abi:e8,functionName:"joinArena",args:[t],value:r,gas:200000n,maxFeePerGas:1000000n})}}();if(!n)return null;let s=BigInt(n.startBlock),i=BigInt(n.endBlock),o=t>=s&&t<=i,l=tt(n.entryFee),c=e7.TIER_CONFIG[l],u=n.finalized?"üèÜ Finalized":t>i?"‚è≥ Awaiting Reveal":o?"üî¥ LIVE":"üü¢ Open",d=Number(i-s),h=o?Number(i-t):0;return(0,r.jsxs)("div",{className:`border ${c.border} rounded-xl p-4 ${c.bg} transition-all hover:scale-[1.01]`,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold",children:["Arena #",e.toString()]}),(0,r.jsx)("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${c.bg} ${c.color} border ${c.border}`,children:c.label})]}),(0,r.jsx)("span",{className:"text-sm",children:u})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-400 mb-3",children:[(0,r.jsxs)("div",{children:["Entry: ",(0,eF.formatEther)(n.entryFee)," ETH"]}),(0,r.jsxs)("div",{children:["Pot: ",(0,eF.formatEther)(n.pot)," ETH"]}),(0,r.jsxs)("div",{children:["Players: ",n.playerCount]}),(0,r.jsxs)("div",{children:["Blocks: ",d]})]}),o&&(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)(te,{blocksRemaining:h,totalBlocks:d,label:"Arena Progress"})}),t<s&&(0,r.jsxs)("button",{onClick:t=>{t.stopPropagation(),a(e,n.entryFee)},className:`w-full py-3 rounded-lg font-bold text-lg active:scale-95 transition-transform ${"vip"===l?"bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400":"bg-green-600 hover:bg-green-700"}`,children:["Join (",(0,eF.formatEther)(n.entryFee)," ETH)"]}),o&&(0,r.jsxs)("div",{className:"text-center text-yellow-400 font-bold animate-pulse",children:["üî¥ LIVE ‚Äî ",h," blocks remaining"]})]})}var tn=e.i(56050);function ta({arenaId:e,numTicks:t,isActive:n,isEnded:a}){let s=Math.min(t,256),[o,l]=(0,j.useState)(Array(s).fill(!1)),[c,u]=(0,j.useState)(!1),d=function(){let{writeContract:e}=e0(),{address:t}=(0,e1.useAccount)();return(r,n,a)=>{if(!t)return;let s=(0,D.keccak256)(function(e,t){if(e.length!==t.length)throw new i.AbiEncodingLengthMismatchError({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let a=e[n],s=t[n];r.push(function e(t,r,n=!1){if("address"===t){if(!(0,e5.isAddress)(r))throw new e2.InvalidAddressError({address:r});return(0,e3.pad)(r.toLowerCase(),{size:n?32:null})}if("string"===t)return(0,W.stringToHex)(r);if("bytes"===t)return r;if("bool"===t)return(0,e3.pad)((0,W.boolToHex)(r),{size:n?32:1});let a=t.match(e4.integerRegex);if(a){let[e,t,s="256"]=a,i=Number.parseInt(s,10)/8;return(0,W.numberToHex)(r,{size:n?32:i,signed:"int"===t})}let s=t.match(e4.bytesRegex);if(s){let[e,t]=s;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new i.BytesSizeMismatchError({expectedSize:Number.parseInt(t,10),givenSize:(r.length-2)/2});return(0,e3.pad)(r,{dir:"right",size:n?32:null})}let o=t.match(e4.arrayRegex);if(o&&Array.isArray(r)){let[t,n]=o,a=[];for(let t=0;t<r.length;t++)a.push(e(n,r[t],!0));return 0===a.length?"0x":(0,Y.concatHex)(a)}throw new i.UnsupportedPackedAbiType(t)}(a,s))}return(0,Y.concatHex)(r)}(["uint256","address","bytes32","uint256"],[r,t,a,n]));e({address:e6,abi:e8,functionName:"commitPrediction",args:[r,s],gas:100000n,maxFeePerGas:1000000n}),localStorage.setItem(`arena-${r}-prediction`,JSON.stringify({predictions:n.toString(),salt:a}))}}(),h=function(){let{writeContract:e}=e0();return t=>{let r=localStorage.getItem(`arena-${t}-prediction`);if(!r)throw Error("No stored prediction found");let{predictions:n,salt:a}=JSON.parse(r);e({address:e6,abi:e8,functionName:"revealPrediction",args:[t,BigInt(n),a],gas:100000n,maxFeePerGas:1000000n})}}(),f=0,p=0;for(let e of o)e?f=Math.max(f,++p):p=0;return(0,r.jsxs)("div",{className:"border border-gray-700 rounded-xl p-4 bg-gray-900 animate-slide-up",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Predictions"}),f>=3&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(tn.GodStreak,{streak:f,best:f})}),n&&!c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-4 max-h-60 overflow-y-auto",children:o.map((e,t)=>(0,r.jsx)("button",{onClick:()=>{let e;(e=[...o])[t]=!e[t],l(e)},className:`w-12 h-12 sm:w-10 sm:h-10 rounded-lg text-sm font-bold transition-all active:scale-90 touch-manipulation ${e?"bg-green-600 hover:bg-green-700 shadow-green-600/30 shadow-lg":"bg-red-600 hover:bg-red-700 shadow-red-600/30 shadow-lg"}`,children:e?"‚Üë":"‚Üì"},t))}),(0,r.jsx)("button",{onClick:()=>{let t=(0,D.keccak256)((0,W.toHex)(crypto.getRandomValues(new Uint8Array(32))));d(e,(()=>{let e=0n;for(let t=0;t<o.length;t++)o[t]&&(e|=1n<<BigInt(255-t));return e})(),t),u(!0)},className:"w-full py-3 bg-purple-600 hover:bg-purple-700 rounded-lg font-bold text-lg active:scale-95 transition-transform",children:"Commit Predictions"})]}),c&&n&&(0,r.jsx)("div",{className:"text-center text-green-400 py-4",children:"‚úÖ Committed! Wait for arena to end."}),a&&(0,r.jsx)("button",{onClick:()=>{h(e)},className:"w-full py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-bold text-lg active:scale-95 transition-transform",children:"Reveal Predictions"})]})}function ts({selected:e,onSelect:t}){return(0,r.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,r.jsx)("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${"all"===e?"bg-white text-black":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"All Tiers"}),Object.entries(e7.TIER_CONFIG).map(([n,a])=>(0,r.jsx)("button",{onClick:()=>t(n),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${e===n?`${a.bg} ${a.color} border ${a.border}`:"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:a.label},n))]})}let ti="blockarena-referral";function to({address:e}){let{referralData:t,referralLink:n,copyReferralLink:a}=function(e){let[t,r]=(0,j.useState)(null),[n,a]=(0,j.useState)(null);(0,j.useEffect)(()=>{let t=new URLSearchParams(window.location.search).get("ref");t&&t!==e?(localStorage.setItem(`${ti}-by`,t),r(t)):r(localStorage.getItem(`${ti}-by`))},[e]),(0,j.useEffect)(()=>{if(!e)return;let t=localStorage.getItem(`${ti}-${e}`);t?a(JSON.parse(t)):a({code:e,totalReferrals:0,totalEarnings:"0",referrals:[]})},[e]);let s=e?`${window.location.origin}?ref=${e}`:"",i=(0,j.useCallback)(async()=>{if(!s)return!1;try{return await navigator.clipboard.writeText(s),!0}catch{return!1}},[s]);return{referredBy:t,referralData:n,referralLink:s,copyReferralLink:i}}(e),[s,i]=(0,j.useState)(!1),o=async()=>{await a()&&(i(!0),setTimeout(()=>i(!1),2e3))};return e&&t?(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-gray-900 border border-gray-700",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-3",children:"üîó Referrals"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,r.jsx)("input",{readOnly:!0,value:n,className:"flex-1 bg-gray-800 rounded px-3 py-2 text-sm font-mono text-gray-300 truncate"}),(0,r.jsx)("button",{onClick:o,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm font-bold whitespace-nowrap",children:s?"‚úÖ Copied!":"üìã Copy"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-center",children:[(0,r.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.totalReferrals}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Referrals"})]}),(0,r.jsxs)("div",{className:"p-3 bg-gray-800 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:[t.totalEarnings," ETH"]}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Earnings"})]})]}),t.referrals.length>0&&(0,r.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,r.jsx)("div",{className:"text-sm font-bold text-gray-400",children:"Recent"}),t.referrals.slice(0,5).map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-300",children:[(0,r.jsxs)("span",{className:"font-mono",children:[e.address.slice(0,8),"..."]}),(0,r.jsxs)("span",{className:"text-green-400",children:["+",e.earnings," ETH"]})]},t))]})]}):null}let tl=["üéâ","üî•","‚ö°","üèÜ","‚ú®","üíé"];function tc({active:e,duration:t=3e3}){let[n,a]=(0,j.useState)(!1);return((0,j.useEffect)(()=>{if(e){a(!0);let e=setTimeout(()=>a(!1),t);return()=>clearTimeout(e)}},[e,t]),n)?(0,r.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:Array.from({length:40}).map((e,t)=>(0,r.jsx)("span",{className:"absolute animate-confetti-fall text-2xl",style:{left:`${100*Math.random()}%`,animationDelay:`${+Math.random()}s`,animationDuration:`${2+2*Math.random()}s`},children:tl[t%tl.length]},t))}):null}function tu({trigger:e,children:t}){let[n,a]=(0,j.useState)(!1);return(0,j.useEffect)(()=>{if(e>0){a(!0);let e=setTimeout(()=>a(!1),500);return()=>clearTimeout(e)}},[e]),(0,r.jsx)("div",{className:n?"animate-screen-shake":"",children:t})}var td=e.i(62298),th=e.i(53627);function tf(){let{blockNumber:e}=function(){let[e,t]=(0,j.useState)(null),[r,n]=(0,j.useState)(0n),a=(0,j.useRef)(null);return(0,j.useEffect)(()=>{let e=()=>{let r=new WebSocket("wss://carrot.megaeth.com/ws");a.current=r,r.onopen=()=>{r.send(JSON.stringify({jsonrpc:"2.0",method:"eth_subscribe",params:["newHeads"],id:1}))},r.onmessage=e=>{try{let r=JSON.parse(e.data);if("eth_subscription"===r.method&&r.params?.result){let e=r.params.result;t(e),n(BigInt(e.number))}}catch{}},r.onclose=()=>{setTimeout(e,1e3)}};return e(),()=>a.current?.close()},[]),{latestBlock:e,blockNumber:r}}(),{data:t}=q({address:e6,abi:e8,functionName:"nextArenaId"}),{isConnected:a,address:s}=(0,td.useWallet)(),[i,o]=(0,j.useState)(null),[l,c]=(0,j.useState)("all"),[u,d]=(0,j.useState)(!1),[h,f]=(0,j.useState)(0),p=t?Number(t):0,m=(0,j.useMemo)(()=>Array.from({length:p},(e,t)=>BigInt(p-1-t)),[p]),y=function(e,t,r=50){let n=(0,j.useRef)(0);return{onTouchStart:(0,j.useCallback)(e=>{n.current=e.touches[0].clientX},[]),onTouchEnd:(0,j.useCallback)(a=>{let s=a.changedTouches[0].clientX-n.current;Math.abs(s)>r&&(s>0?t():e())},[e,t,r])}}((0,j.useCallback)(()=>{0!==m.length&&o(e=>{if(null===e)return m[0];let t=m.indexOf(e);return m[Math.min(t+1,m.length-1)]})},[m]),(0,j.useCallback)(()=>{0!==m.length&&o(e=>{if(null===e)return m[0];let t=m.indexOf(e);return m[Math.max(t-1,0)]})},[m]));return(0,r.jsxs)(tu,{trigger:h,children:[(0,r.jsx)(tc,{active:u}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-6 sm:py-8",...y,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"‚ö° BlockArena"}),(0,r.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Real-time prediction game on MegaETH"})]}),(0,r.jsx)(n.ConnectWallet,{})]}),(0,r.jsxs)("div",{className:"hidden md:flex gap-4 mb-6 text-sm",children:[(0,r.jsx)(th.default,{href:"/history",className:"text-gray-400 hover:text-white",children:"üìä Stats"}),(0,r.jsx)(th.default,{href:"/gallery",className:"text-gray-400 hover:text-white",children:"üñºÔ∏è Gallery"}),(0,r.jsx)(th.default,{href:"/tournament",className:"text-gray-400 hover:text-white",children:"üèÜ Tournament"}),(0,r.jsx)(th.default,{href:"/overlay",className:"text-gray-400 hover:text-white",children:"üì∫ Overlay"})]}),(0,r.jsxs)("div",{className:"mb-4 p-3 bg-gray-900 rounded-lg flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Current Block"}),(0,r.jsxs)("span",{className:"font-mono text-green-400 text-lg",children:["#",e.toString()]})]}),a&&s&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(tn.PlayerProfileCard,{address:s,streak:3,bestStreak:7,wins:12,losses:8})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(ts,{selected:l,onSelect:c})}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Arenas"}),0===p&&(0,r.jsx)("p",{className:"text-gray-500",children:"No arenas yet. Deploy the contract and create one!"}),m.map(t=>(0,r.jsx)(tp,{arenaId:t,currentBlock:e,tierFilter:l,onClick:()=>o(t)},t.toString()))]}),null!==i&&a&&(0,r.jsx)(tm,{arenaId:i,currentBlock:e}),a&&s&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(to,{address:s})})]})]})}function tp({arenaId:e,currentBlock:t,tierFilter:n,onClick:a}){let{data:s}=e9(e);return s&&("all"===n||tt(s.entryFee)===n)?(0,r.jsx)("div",{onClick:a,className:"cursor-pointer",children:(0,r.jsx)(tr,{arenaId:e,currentBlock:t})}):null}function tm({arenaId:e,currentBlock:t}){let{data:n}=e9(e);if(!n)return null;let a=BigInt(n.startBlock),s=BigInt(n.endBlock),i=t>s&&!n.finalized,o=Number(s-a);return(0,r.jsx)(ta,{arenaId:e,numTicks:o,isActive:t>=a&&t<=s,isEnded:i})}e.s(["default",()=>tf],60504)}]);